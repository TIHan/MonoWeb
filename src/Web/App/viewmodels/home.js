define(function (require) {
    var system = require('durandal/system');
	var api = require('api');

    function vm() {
        /*************************************************************************/
        /* Private
        /*************************************************************************/
        
        var self = this;

        /*************************************************************************/
        /* Conventional
        /*************************************************************************/

        self.activate = function () {
			return api.get('/testquery', { field1: 'Test1', field2: 'Test2' }).done(function (response) {
				system.log('Received: ' + response.message);
			});
        };

        self.canActivate = function () {
            return true;
        };

        /*************************************************************************/
        /* Non-Conventional
        /*************************************************************************/

        /*************************************************************************/
        /* Events
        /*************************************************************************/
    }

    return new vm();
});